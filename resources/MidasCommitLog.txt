COMMIT LOG

--IP--Commit March 25th, 2020--
-->Create Mayavi3idiView() class function: def set_actor_positions() 
-->Create Mayavi3idiView() class function: def set_text_positions() 
-->Rename PianoDisplay.py to MusicObjects.py
-->Rename color_pallete image names.
-->Create MusicObjects.py module function: def GrandStaffLines()
-->Create MusicObjects.py module function: def GrandStaff()
-->Add "edges" to Mayavi3idiView().establish_highlighterplane function.
-->Create Mayavi3idiView() list self.clr_dict_list
-->Create Mayavi3idiView() list self.mlab_calls
-->Create Mayavi3idiView() list self.text3d_calls
-->Create Mayavi3idiView() list self.text3d_default_positions
-->Add mlab_calls.append("mlab_data") calls to every mlab call.


--IP--Commit April 7th, 2020--
-->Explored Dragscrolling -- Grid has own scroll shit.
-->Set ScrollLine X and Y in piano roll.
-->Discovered "right click" on piano roll panel scroll bar. Needs info 
-->Add 'Menu' Placeholders.
-->Discovered cool workaround--- https://forums.wxwidgets.org/viewtopic.php?t=43175
-->Added an TrebleClef "Icon." 
-->Added a CustomStatusBar.
-->Figured out Animator instance control. 
-->Complete music21funcs.make_musicode() writing to files correctly.
-->Rename some module and class attributes better.


--IP--Commit, April 18th, 2020--
--> Create MenuButtons module and CustomMenuBar(wx.MenuBar) class.
--> Create Preferences module and Preferences(wx.Dialog) class.
--In Preferences
--> Add mayaviview.bpm, mayaviview.grid3d_span, and mayaviview.i_div to Preferences.
--In File menu
--> Complete "Export Musicode" button.
--> Complete "Export Movie" button.
--> Complete "Preferences" button
--> Complete "Intermediary_path" button.
--In Show Menu
--> Complete "Show In DAW" button.
--> Complete "Show in MuseScore" button.
--In Help menu.
--> Complete draft of "Search\Help" menu button.
--> Complete All "Documentation" submenu button links.-->
--- Including: Music21, Mayavi, Numpy, Sympy, Open3d, OpenCv-Python, VTK, TVTK
--> Complete "The Magic Hammer" button link.
--> Complete "Google Search" button link.
--In Mayavi3DView
--> Establish "properties" (i.e. grid3d_span, bpm, i_div) for use in Preferences as mayaviview class variables.
--> Create insert_volume_slice() function.
--> Create reset_volume_slice() function.
--> Create redraw_mayaviview() function.
--> Modify, for frames exporting purposes, the animate() function and it's nested animate_plane_scroll() call.
--> Extend the length of the np.arange() call in the animate_plane_scroll by an int value of 1.
--> Eliminate redundant self.image_plane_widget construction calls. 
--> Clean up hash and whitespace in the module. Remove unecessary hash.
--In MainButtons
--> Add "Redraw Mayavi View" button to the 3idiArt Main Button dialog.
--In MIDAS_wx
--> Change variable Midas back to app.
--> Make Midas = app.GetTopWindow()
--> Make pyshellpanel split vertically instead of horizontally(left and right now instead of top and bottom)
--In Midas_Startup_Configs
--> Add inspect to list of imports
--> Add pydoc to list of imports.


--IP--Commit, April 20, 2020--
--In MenuButtons
-->Populate Tools Menus (musicode, midiart, midiart3D, music21funcs) with respective functions.
-->Create Dynamic ToolsDialog(wx.Dialog) for displaying said midas_script functions.
-->Clean up doc strings in all midas_scripts modules.
--In Documentation submenu
-->Add "Python" to Documentation submenu list.
--In Preferences
-->Add "Default Color Palette" dropdown ComboCtrl box.
-->Populate Color Palettes dropdown with colors from r".\resources\color_palettes."


--IP--Commit, May 22, 2020--
--In Mayavi3DView
-->Reorganize module layout for readability and cleanness.
-->Write Highlighter Plane trait functions--- working successfully.
--In Actors class.
-->Sync cur_z trait one_way with mayavi_view.cur_z --Used in highlighter plane functions.
-->Addition of "stream" trait in preparation for major export features\functionality.
--In ActorsCtrlPanel
-->Fix OBOE errors.
-->Delete actor function now deletes from the ListBox first.
--In Menu Buttons
--> Working instance of Menu button "About Midas" made functional. 
--> Move Stats Buttons to "Tools" menu bar. Stats buttons now named "Analyze" submenu.
--In MIDAS_wx
--> Set MusicObjects.earth() as default startup points for actor 0.
--> Set default Z-Plane to 90 for music21 reasons.
--> Eliminate StatsDisplayPanel. Adjust splitter panels accordingly.
--In music21funcs
-->Write about_midas() function; code used taken from Midas_Startup_Configs.

-->Miscellaneous Small fixes for readability.


--IP--Commit, May 25, 2020--
In MIDAS_wx
--> Bind File menu's Export submenu buttons.
In Mayavi3DView
--> Create actorListBox correct 'item' selection on actor.position trait change.
--> Clean up 
--> Append_Actor() function: Add trait_syncs for 'position' and 'color' two-way between mayavi pipeline and our Actor() class. 
In Actor() class
--> Establish Actor() class init() and parameterization.
--> Organize class and traits. 
In ActorsCtrlPanel
--> Create DeleteAllActors() function and button
--> Create OnRightClickPopupMenu() function and popup menu with menubuttons.
In MainButtons
--> _OnMidiartDialogClosed: ColorsCheck; Eliminate garbage hash. Adjustments to setting colors on close. 
In MenuButtons
--> Export Menu Button Now a submenu.
--> Append and Bind self.export submenu with:-- CurrentActor, AllActors, CurrentActorsCurrentZplane, 
-AllCurrentActorsZplanes, Selection, Colors, Text, PointCloud, and Image
--> Assign Hotkeys to all export submenu buttons (i.e CurrentActor hotkey = Ctrl + E + 1, AllActors hotkey = Ctrl + E + 2, etc )
In PianoRoll.py
--> Restore GridToStream, StreamToGrid, ClearGrid
--> Create ClearZPlane() function
--> Clean up old call bugs. (_table.GetNumberCols, etc.)
In Install.bat
--> Make all pip install commands ""python - m pip install --upgrade 'package' --user""
In Resources
-->Add MidasCommitLog.txt to resources folder. All current large commits added to MidasCommitLog.txt.
In midas_scripts/midiart.py
-->Adjust midiart.separate_pixels_to_coords_by_color for export usage.

--IP--Commit, May 26, 2020--
In ActorsCtrlPanel
--> Minor Tweaks to RightClickPopupMenu buttons.
In Mayavi3idiView
-->Tweak trait change function for highlighting current actor in listbox upon moving it's 'position' in the view.
In MainButtons
-->Rework logic for the colors function for speed! Optimized using midiart.separate_pixels_to_coords_by_color.
In midas_scripts/midiart
-->Small tweaks to midiart.separate_pixels_to_coords_by_color. Added walkthrough #markups for clarity.

--IP--Commit, May 28, 2020--
In Midas_wx
-->Restore class instance of self.musicode = musicode.Musicode()
In Mayavi3idiView
-->Fixed a bug where set_actor_positions wouldn't work correctly after remove_highlighter_plane() was called.
-->Rename self.cur to self.cur_ActorIndex
-->Fix recurring missed refactorings of self.cur
-->Add a class variable called self.colors_call that updates(+1) upon subsequent color images being generated in the view. For export purposes.
-->Create a clear_all_and_redraw() function.--clears and redraws the mayavi figure, AND clears all references lists.
In MainButtons
-->Create Working instance of 'Colors' Export function!!!
-->Bug fix: set_to_nn_colors doesn't allow floats for it's color values in its kd-tree search open3d grid thing.
-->Use pianorollpanel.ClearZPlane(self.GetTopLevelParent().mayavi_view.cur_z) instead of ClearGrid() in create_musicode (for now)
In MenuButtons
-->Create working def OnExport_Colors() function.
-->Create working def OnExport_Selection() function.
-->Create working def OnExport_CurrentActor() function.
-->Create working def OnExport_AllActors() function.
In midas_scripts/music21funcs
-->Add 'part=False' parameter to separate_notes_to_parts_by_velocity() function. Nested use adjusted accordingly. Adjusts output stream type.

--IP--Commit, May 29, 2020--
In PianoRoll
--> Rewrite GridToStream() #Made it fast!!!
In PianoRollPanel
--> Rewrite ClearZPlane() #Made it fast!!
In ActorsCtrlPanel
-->Fix some mayavi_view.cur refactor misses. (cur_ActorIndex)

--IP--Commit, May 30th, 2020--
In PianoRoll
-->Fix a class variabel self.m_v error (was self.mv)
In musicode.py
-->Fix a major error where the users 'selection' when making a new 'musicode' was not being done in order of selection, but rather alphabetical order.

--IP--Commit, May 31, 2020--
In PianoRoll
--> GridToStream now has an 'update_stream' parameter. If true, the CurrentActor()'s '_stream' will be updated. True by default. 
In MenuButtons
--> Refactored calls in the Show\Dispaly 'Stats' functions; more appropraite names. 
In MainButtons
--> Adjust make_musicode call containing GridToStream() because of adding a new parameter.

--IP--Commit, June 1, 2020--
In Entire Project
--> Change all instances of np.float64 to np.float16
In Actors() class
--> Change _points.dtype to be float 32. Adjusted the actor_points_changed() function to be able to handle floats.
In MainButtons
--> Modify the Musicode dialog to account for the difference between create\translate musicode by 'greying-out'(disabling) the appropriate dialog instances.

--IP--Commit, June 5th, 2020--
In ActorsCtrlPanel
--> Add ClearPianoRoll() (ClearCurrentZplane()) to the end of the DeleteCurrentActor() and DeleteAllActors() functions.
In MainButtons
--> Change "QR Code" instances of text to "Monochrome"
--> Fix slider not working for the MidiartDialog
In MIDAS_wx
-->Change variable bindings to avoid an error when using the animated openings.
In MenuButtons
--> Finish export functions-- CurrentActor'sCurrentZplane and AllActor'sZplane)
In Musicode
--> Fix file writing bug in make_musicode()

--IP--Commit, June 6th, 2020--
In MainButtons
-->Fix OBOE error in the clrs transcribing function in _OnMidiartDialogClosed
In Midiart
--> Modify the separate_pixels_to_coords_by_color function for said OBOE fix.
In MenuButtons
--> Adjust export function accordingly for said OBOE error.
--> Fix export method to not use the "name" property in the listbox, but instead the 'colors_instance' property of the CurrentActor(). Allows user to name anything in the list box whatever they want.

--IP--Commit, June 12th, 2020--
Continuted from previous commit ----"To Be Ammended"-- These log the changes of both.
In MainButtons
-->Complete colors function, implementing use of auto-appended menu buttons for every colors instance. 
In MenuButtons
--> Complete submenu button, OnBtnDeleteSlection() function; allows for deletion of arbitrary selections and actor.index attributes are updated accordingly.
--> Write checks in OnExport_Colors() function that allow for the a colors image to still be exported correctly, order maintained, even after an actor of the colors instance has been deleted.
--> Restore analyze (stats) functions. Now they operate on the current zplane. (chords, stream.show('txt'), midi_data, cell_sizes)
In Mayavi3DView
--> Add trait 'actor_delete_flag' = Bool()
--> Write traits function @on_trait_change('actor_delete_flag') def colors_menu_delete()
--> Write traits functions @on_trait_change('actor_delete_flag') def reset_index_attributes()
In ActorsCtrlPanel
--> Add pianoroll.ForceRefresh() calls to every delete actor function.
In PianoRoll
--> Research (and hashed out fail attempts) way of speeding up grid draw. Left some code in the PianoRoll default CellRenderer() class. (the Draw() function)

--IP--Commit, June 28st, 2020--
--Includes All Previous 3 Commits--ToBeAmmended 1,2 and 3
In Mayavi3DView
--> Write new_reticle_box() function. Draws red lines in the mayavi view to show viewing\composing area of the Grid Client.
--> Write mayavi on_mouse_bind function def zoom_to_coordinates(). Works around grid scrolling extremely well.
--> Write remove_grid_reticle() function.
--> Clean up Traits functions' writing.
--> Add self.mayavi_view.scened3d.disable_render = True, then = False to the beginnings and ends of all functions that create actor\glyphs in the mayavi_view. (i.e. highlighterplane, volume slice)
In PianoRoll
--> Write OnMeasureLabelsLeftClick() function. (Note: This function resets the scrollrate.)
--> Write OnScroll() function. (for new_reticle_box() to update)
--> Experiment with Scroll\Paint functions and bindings. Left there in the module for reference.
In ActorsCtrlPanel
--> Write OnBtnDeleteEmptyActors function. (Needs actual button and binding)
In MainButtons
--> Add self.mayavi_view.scened3d.disable_render = True, then = False to the beginnings and ends of all main button translation functions that call "new_actor." Speeds things waaay up.
In Midas_wx
--> Change self.top_pyshell_split.SetSashPosition() to a value of 306 so that EXACTLy two octaves of cells are displayed. 

--IP--Commit, July 5th, 2020--
In ActorsCtrlPanel
--> Make button for OnBtnDelEmptyActors() function.
In Mayavi3DView
--> Make string attribute mayavi_view.current_pallete_name that tells what color is current.
In Midiart
--> Create def convert_rgb_to_ncp(palettes=None) function. Creates FL .ncp files from our .png color palettes.
In MainButtons
--> Fixed bug where R and B color tuple values were swapped. 
In MenuButtons
--> Added code for updating the .current_pallete_name string when selecting desired color palette.

--IP--Commit, September 7th, 2020--
**Note: This commit includes some patching for updates to VTK(9.0.1 from 8.1.2) and Mayavi(4.7.2 from 4.7.1) as well as an update to Pyface. The patch is not hardcoded yet.
In Main Buttons
--> Make Monochrome image loading load to the session's "cur_z" current zplane.  (Line 258---->points = midiart3D.extract_xyz_coordinates_to_array(stream, velocities=mayavi_view.cur_z))
--> Make Edges the same for loading to the current zplane. (Line 188---->points = midiart3D.extract_xyz_coordinates_to_array(stream, velocities=mayavi_view.cur_z)
In Mayavi3DView
--> Fix 'line_width' and 'opacity' in some mlab calls to compensate for a "jaggies" error from the update.
In the TRELLO
--> Add a card that contains information on how to temporarily 'patch' up problems with the 'mayavi' popup at the top left of the mayavi split.
--> Patch the update, temporarily, so to continue research.
In MenuButtons
-->Small fix -- Export CurrentActorsCurrentZplane now includes the zplane in exported midifile's name. (i.e. 0_Actor_Z-90.mid)

--IP--Commit, 
In Mayavi3DView
--> Made the tiniest tweak to line up the measure numbers with their apparent starting point better. Much better.
In MenuButtons
--> Added "\\" to the end of the defaultDir path, was buggy.
--> Modify HelpDialog class to account for changes to wxpython.
--> Modify layout (i.e. ALIGN_CENTER_HORIZONTAL) flags stuff to account for changes in wxpython update.
--> Modify OnDisplayChords, OnDisplayStreamShowTxt, OnDisplayMidiData, OnDisplayCellSizesData to inherit from 'mainbuttonspanel', solving wx update bug. (window layout direction)
In Preferences
--> Hardcoded 4 patches for the vtk\mayavi\pyface\wxpython updates. They reside in the Preferences.py module, the last 4 lines of code.
--> Modify PreferencesDialog class to account for changes to wxpython.
--> Modify layout (i.e. ALIGN_CENTER_HORIZONTAL) flags stuff to account for changes in wxpython update. (Any horizontal flags inside a wx.Sizer(wx.HORIZONTAL) are ignored and raise an error)


